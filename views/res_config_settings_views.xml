<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_res_config_settings_fsm_guided_intake" model="ir.ui.view">
        <field name="name">res.config.settings.fsm.guided.intake</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app string="FSM Guided Intake" name="fsm_guided_intake_app" icon="fa-tools">
                    <block title="Invoicing">
                        <setting string="Auto-create invoice draft when task reaches Done stage"
                                 help="When enabled, moving a task to the configured Done stage will automatically create/update the Sales Order from task materials and generate a draft invoice.">
                            <field name="fsm_auto_invoice_on_stage_done"/>
                        </setting>
                        <setting string="Done Stage Name"
                                 help="Stage name to match (case-insensitive) to trigger auto-invoicing.">
                            <field name="fsm_invoice_stage_done_name" placeholder="Done"/>
                        </setting>
                    </block>
                    <block title="Scheduling">
                        <setting string="Lead minutes before first slot"
                                 help="Minutes to add after shift start before offering the first slot (0 to allow right at shift start).">
                            <field name="fsm_slot_start_lead_minutes"/>
                        </setting>
                    </block>
                    <block title="Installation Tracking">
                        <setting string="Installation Task Type"
                                 help="When a task is created with this task type, it will automatically link to the subscription's installation_task_id field.">
                            <field name="installation_task_type_id" placeholder="Select Task Type..."/>
                        </setting>
                    </block>
                    <block title="Cat6 Billing">
                        <setting string="Cat6 cable product"
                                 help="Product used when billing Cat6 cable meters captured on a task.">
                            <field name="fsm_cat6_cable_product_id" placeholder="Select product..."/>
                        </setting>
                        <setting string="RJ45 connector product"
                                 help="Product used when billing RJ45 connector counts captured on a task.">
                            <field name="fsm_cat6_rj45_product_id" placeholder="Select product..."/>
                        </setting>
                        <setting string="Wall jack product"
                                 help="Product used when billing wall jack counts captured on a task.">
                            <field name="fsm_cat6_wall_jack_product_id" placeholder="Select product..."/>
                        </setting>
                    </block>
                </app>
            </xpath>
        </field>
    </record>
</odoo>
